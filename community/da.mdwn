# Zheng Da

Email: zhengda1936 at gmail dot com

Project: Network virtualization for subhurds etc.

The [code](http://www.assembla.com/spaces/VNetHurd/trac_subversion_tool).

---

## The design and implementation of hypervisor

### The requirements:
* to implement a mechanism which help pfinet servers communicate with each other. For example, if pfinet 1 has IP A and pfinet 2 has IP B, the packet sent by pfinet 1 with destination address IP B should be received by pfinet 2.
* Sub-hurd should be able to use this mechanism to communicate with each other.
* Meanwhile this mechanism should allow non-privileged the user to start his own pfinet.
 

### The possible approach is to create a hypervisor whose roles are:
1. to create some virtual network interface, so pfinet can send packets to it.
2. to receive the packet from pfinet, and forward the packet to other pfinets in hurd
3. or forward the packet to the real network device in the kernel and send it to the network.
4. to guard the network traffic and filter illegal packets (forged by some malicious users) from pfinet or some other programs. 

 
### To create a virtual network interface:
Implement the RPC interface defined in device.defs just as "boot" does.
Publish the port, so other programs can get the port and open the virtual device by calling device_open(). 
The hypervisor now works as a translator and other programs can get the port by calling file_name_port(). 

(to be continued)

---

## The schedule


---

## TODO
### Coding

Start to write the hypervisor:

- To create a virtual network interface.
- To publish the port created by the hypervisor by using the file system. Other program can get the port by using file_name_lookup() now.

---

## Completed tasks

### Coding

- pfinet server overriding by modifying glibc. The patch is [here](http://svn.assembla.com/svn/VNetHurd/glibc_2.7_multi-netserv.patch).

### The Code Read

- boot

### Documentation Read


- [A Programmer's Guide to the Mach System Calls](ftp://ftp.cs.cmu.edu/afs/cs/project/mach/public/doc/unpublished/machsys.doc)
- [Meet Mach](http://www.stepwise.com/Articles/Technical/MeetMach.html) by James Scott
- [A Programmer's Guide to the Mach User Environment](ftp://ftp.cs.cmu.edu/afs/cs/project/mach/public/doc/unpublished/machuse.doc), the MIG part
- Part of The GNU Mach Reference Manual and The GNU Hurd Reference Manual
- The Hurd, a presentation by Marcus Brinkmann
- Towards a New Strategy of OS Design, an architectural overview by Thomas Bushnell, BSG.
- GNU/Hurd User's Guide
- The Hurd Hacking Guide
