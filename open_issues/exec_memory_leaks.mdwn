[[!meta copyright="Copyright Â© 2012 Free Software Foundation, Inc."]]

[[!meta license="""[[!toggle id="license" text="GFDL 1.2+"]][[!toggleable
id="license" text="Permission is granted to copy, distribute and/or modify this
document under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with no Invariant
Sections, no Front-Cover Texts, and no Back-Cover Texts.  A copy of the license
is included in the section entitled [[GNU Free Documentation
License|/fdl]]."]]"""]]

[[!tag open_issue_hurd]]

There are is some memory leak in [[`exec`|hurd/translator/exec]].


# I

After twelve hours worth of `fork/exec` ([[GCC]]'s `check-c` part of the
testsuite), we got:

      PID  UID  PPID  PGrp  Sess TH  Vmem   RSS %CPU     User   System Args
        4    0     3     1     1 10  392M  262M  0.0  2:18.29     2hrs /hurd/exec

The *RSS* seems a tad high.  Also the system part of CPU time consumption is
quite noticeable.  In comparison:

        0    0     1     1     1 19  131M 1.14M  0.0  3:30.25  9:17.79 /hurd/proc
        3    0     1     1     1 224 405M 12.6M  0.2 42:20.25    67min ext2fs --readonly --multiboot-command-line=root=device:hd0s6 --host-priv-port=1 --device-master-port=2 --exec-server-task=3 -T typed device:hd0s6
      276    0     3     1     1 344 442M 28.2M  0.6 48:09.36    91min /hurd/ext2fs /dev/hd2s5


# II

After running the libtool testsuite for some time:

      PID TH#  UID  PPID  PGrp  Sess TH  Vmem   RSS %CPU     User   System Args
        4        0     3     1     1 11  334M  203M 60.8  3:19.73     4hrs /hurd/exec
            0                                        0.0  0:20.33 27:02.47 
            1                                        0.0  0:31.10 32:21.13 
            2                                        0.0  0:25.68 27:42.33 
            3                                        0.0  0:00.00  0:00.00 
            4                                        5.1  0:34.93 34:07.59 
            5                                        0.0  0:19.56 28:44.15 
            6                                        3.4  0:18.73 28:17.89 
            7                                        0.0  0:20.47 34:42.51 
            8                                       39.5  0:15.60 28:48.57 
            9                                        0.0  0:04.49 10:24.12 
           10                                       12.8  0:08.84 19:34.45 
