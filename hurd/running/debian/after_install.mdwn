First steps after installation.

So you have managed to get past the first `native-install` runs in single-user
mode?

Time to get to work.

[[toc ]]


### Get Networking Running

[[Network]].

Check if your NIC was detected by GNU Mach:

    # devprobe eth0

`devprobe` (run as user *root*) will print `eth0` on successful detection.  If
it doesn't, your NIC was not detected correctly.  You can then try to do the
following (also as user *root*) for getting details:

    # cat /dev/klog > ~/klog
    [Wait a second, then press `Ctrl-C'.]

Now examine the `~/klog` file.

If the NIC was detected:

    # settrans -fgap /servers/socket/2 /hurd/pfinet -i eth0 -a 192.168.1.3 -g 192.168.1.1 -m 255.255.255.0

In order to use DHCP, you need to install the `dhcp-client` package and run `dhclient eth0` etc.

# Setup GRUB

You surely want grub to have a nice menu entry able to boot GNU, instead of
typing a boring arcane.  There are Debian-specific scripts that may help
you.  See [[GRUB]]'s page for this.


# Setup `apt-get`

Sometimes getting `apt-get` to work is not straightforward.  Good mirrors to
put in `/etc/apt/sources.list` are (as of Jan 2007):

    deb http://mirrors.kernel.org/debian unstable main contrib
    deb-src http://mirrors.kernel.org/debian unstable main contrib
    deb http://ftp.debian-ports.org/debian unreleased main
    deb-src http://ftp.debian-ports.org/debian unreleased main

`apt-get` update a couple of times if some file fails to download.

If when doing your first `apt-get`, `dpkg` complains of missing programs, get root in a login shell (`su -`).

Installing packages without having a network connection is described
[[Distrib/DebianAptOffline]].

# [[translator/Random]]

You often need `scp` and `ssh`.  There is now a `random-egd` package available which uses
a random translator by Ryan Hunter and the entropy gathering daemon as entropy source.

See [[Translator/random]] for more information.

# [[Console]]

The latest Hurd package in Debian, plus the `native-install` script, creates
all necessary device nodes and other magic.  You just need to edit
`/etc/default/hurd-console` to tune the parameters and tell it to start at
bootup.

You can also call the Hurd console manually with the proper arguments:

    console -d vga -d pc_kbd --repeat=kbd -d pc_mouse --repeat=mouse \
            -d generic_speaker -c /dev/vcs

    cd /dev
    ln -s cons/kbd .
    ln -s cons/mouse .


# [[Hurd/DebianXorg]]

You first must have setup the virtual console.  See above.

Assuming you've installed WindowMaker and have tried running `startx` already:

    [/etc/xorg.conf]

    Section "Module"
    #        Load           "dri"
    #        Load           "speedo"
             .
             .
             .
    EndSection

    Section "InputDevice"
            Identifier      "Configured Mouse"
            Driver          "mouse"
            Option          "CorePointer"
            Option          "Device"                "/dev/mouse"
            Option          "Protocol"              "osmouse"
    EndSection

Make sure not to have the `Emulate3Buttons` and `ZAxisMapping` settings set, as
they lead to problems with e.g. dragging windows around.

# What about package XYZ?

See if you can find a useful tip in [[package_troubleshooting]].
