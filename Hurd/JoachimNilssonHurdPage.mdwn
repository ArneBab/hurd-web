<table border="0" width="100%">
  <tr valign="top">
    <td><nop><h1><a name="Table_of_Contents"> Table of Contents </a></h1> %TOC% </nop></td>
    <td> Click <a href="http://hurd.gnufans.orghttp://LOCATIONHurd/JoachimNilssonHurdPage" target="_top">here to edit</a> this page. </td>
  </tr>
</table>

# <a name="Introduction"> Introduction </a>

This page is a simple project page for me. I use it to keep track of things concerning the Hurd. If you wish to comment do so in [[TWiki/GoodStyle]], preferably at the bottom of this topic.

# <a name="Current_Project"> Current Project </a>

I am currently working on updating the OSKit's Linux drivers. The OSKit is currently at Linux version 2.2.12 for most of the drivers. My objective is to upgrade from 2.2.12 to 2.2.22 plus the ATA-100 patches for Linux 2.2.19.

## <a name="Update_OSKit_Linux_drivers"> </a> Update OSKit Linux drivers

* **A.** Patch ALL Linux drivers, patch by patch, from 2.2.12 to 2.2.13 etc. up to 2.2.22
* **B.** Continue my work on patching only the IDE stuff.

### <a name="Plan_A_Update_all_Linux_drivers"> Plan A -- Update all Linux drivers </a>

The stock Linux drivers in the OSKit is at version 2.2.12. The first patch brings the drivers up to version 2.2.13, it also includes some [[Mach/UsefulOskitPatches]].

**_Note:_**

1. The patches are cummulative, i.e., you only need one.
2. The patches only update existing OSKit drivers, they don't add support for new ones.

The second statement is important since the corresponding Linux patches **do** add new drivers. I too will add [many of] them, but not at this stage.

<table border="1" cellpadding="1" cellspacing="0">
  <tr>
    <th bgcolor="#99CCCC"><strong>Part</strong></th>
    <th bgcolor="#99CCCC"><strong>Brief description</strong></th>
    <th bgcolor="#99CCCC"><strong>DIFF</strong></th>
    <th bgcolor="#99CCCC"><strong>Date</strong></th>
  </tr>
  <tr>
    <td> 2.2.13 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.13 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.13.diff.gz" target="_top">patch-oskit-linux-2.2.13.diff.gz</a></td>
    <td> Oct 27, 2002 </td>
  </tr>
  <tr>
    <td> 2.2.14 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.14 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.14.diff.gz" target="_top">patch-oskit-linux-2.2.14.diff.gz</a></td>
    <td> Oct 30, 2002 </td>
  </tr>
  <tr>
    <td> 2.2.15 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.15 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.15.diff.gz" target="_top">patch-oskit-linux-2.2.15.diff.gz</a></td>
    <td> Oct 31, 2002 </td>
  </tr>
  <tr>
    <td> 2.2.16 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.16 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.16.diff.gz" target="_top">patch-oskit-linux-2.2.16.diff.gz</a></td>
    <td> Oct 31, 2002 </td>
  </tr>
  <tr>
    <td> 2.2.17 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.17 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.17.diff.gz" target="_top">patch-oskit-linux-2.2.17.diff.gz</a></td>
    <td> Nov 1, 2002 </td>
  </tr>
  <tr>
    <td> 2.2.18 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.18 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.18.diff.gz" target="_top">patch-oskit-linux-2.2.18.diff.gz</a></td>
    <td> Nov 1, 2002 </td>
  </tr>
</table>

Testing against [[Mach/OskitMach]] is currently a real hassle. Fortunately I found an older **stable** oskit-mach (before Roland messed up the GDT's) -- dated June 2002.

### <a name="Plan_B_Update_only_IDE_stuff"> </a> Plan B -- Update only IDE stuff

Plan B has reached much further than Plan A. With the only difference being that it currently doesn't work. When building against a stable [[Mach/OskitMach]] and then testing it on my standard PII-system the boot goes fine up till the part when partition detection starts. Then the system is automatically rebooted. I have started debugging it but I have no definitive results yet.

1. Start off with OSKit, St. Patrick's Day release.
2. Upgrade the Linux IDE drivers to Linux 2.2.19, and 2.2.21
3. Test against HEAD branch of gnumach (oskit-mach)
4. Import the ATA-100 patch.
5. Test again.
6. Release fat patch.

<table border="1" cellpadding="1" cellspacing="0">
  <tr>
    <th bgcolor="#99CCCC"><strong>Part</strong></th>
    <th bgcolor="#99CCCC"><strong>Brief description</strong></th>
    <th bgcolor="#99CCCC"><strong>DIFF</strong></th>
    <th bgcolor="#99CCCC"><strong>Date</strong></th>
  </tr>
  <tr>
    <td> I </td>
    <td><a href="http://vmlinux.org/joachim/hurd/oskit-2002-partI.php" target="_top">Upgrade IDE drivers</a></td>
    <td><a href="http://vmlinux.org/joachim/hurd/oskit-2002-partI.tgz" target="_top">TGZ</a></td>
    <td> May 4, 2002 </td>
  </tr>
  <tr>
    <td> II </td>
    <td> Import ATA-100 patches: PDC20267 HPT366. </td>
    <td align="center"> -- </td>
    <td align="center"> -- </td>
  </tr>
  <tr>
    <td> III </td>
    <td> Upgrade to Linux 2.2.21 of IDE drivers. </td>
    <td align="center"> -- </td>
    <td align="center"> -- </td>
  </tr>
  <tr>
    <td> IV </td>
    <td> Upgrade rest of ATA-100 drivers. </td>
    <td align="center"> -- </td>
    <td align="center"> -- </td>
  </tr>
  <tr>
    <td> V </td>
    <td> Upgrade ISA NIC's. </td>
    <td align="center"> -- </td>
    <td align="center"> -- </td>
  </tr>
  <tr>
    <td> VI </td>
    <td> Upgrade rest of drivers. </td>
    <td align="center"> -- </td>
    <td align="center"> -- </td>
  </tr>
</table>

# <a name="Future_Work"> Future Work </a>

1. _Try to enable GNUmach to use the [[FreeBSD]] drivers in the OSKit_<br /> I have now looked into this. The [[FreeBSD]] PCI related drivers are initialized from the [[FreeBSD]] PCI probe. GNUmach uses the Linux PCI stuff and hence it would not be done easily.
2. Port a simple DHCP client.
3. Use the sound drivers in the OSKit -- port a useful sound daemon.
4. I want to get SMP working with OSKit-mach.

----

Feel free to contact me if you have any comments or suggestions. -- [[Main/JoachimNilsson]] - 1 Nov 2002

# <a name="Comments"> Comments </a>
