# <a name="Table_of_Contents"> Table of Contents </a>

%TOC%

# <a name="Introduction"> Introduction </a>

This page is a simple project page for me. I use it to keep track of things concerning the Hurd. If you wish to comment on my lack of progress/life the do so in [[TWiki/GoodStyle]], preferable at the bottom of this topic.

# <a name="Current_Project"> Current Project </a>

I am currently working on updating the OSKit's Linux drivers from Linux 2.2.12 to 2.2.21 plus the ATA-100 patches for Linux 2.2.19. This because my Promise ATA-100 controller at home prevents me from running the Hurd on my SMP machine. (Even though I now have rigged another machine for my testing efforts ...)

## <a name="Project_plan_Update_OSKit_Linux_"> </a> Project plan: Update OSKit Linux drivers

I have forked. I will now work on two paths:

1. Patch ALL drivers, patch by patch, from 2.2.12 to 2.2.13 etc.
2. Continue my work on patching only the IDE stuff.

Yesterday I patched the Linux drivers (all of them) from 2.2.12 to 2.2.13, I found a **stable** oskit-mach (before the Roland messup with the GDT's) sitting in an old directory - dated June 2002. (Don't get me started on stable tags on the CVS and the likes!)

After having built both of them I finally, after almost six months of no results, managed to successfully boot the oskit-linux-2.2.13-mach-binary and start the Hurd!

* Diff file [patch-oskit-linux-2.2.13.diff.gz](http://vmlinux.org/joachim/hurd/patch-oskit-linux-2.2.13.diff.gz)

This month (I'm getting more moderate in my time plan) I will **try** to continue patching towards Linux 2.2.21. As I progress I will update this page.

## <a name="Old_Project_plan"> Old Project plan </a>

1. Start off with OSKit, St. Patrick's Day release.
2. Upgrade the Linux IDE drivers to Linux 2.2.19, and 2.2.21
3. Test against HEAD branch of gnumach (oskit-mach)
4. Import the ATA-100 patch.
5. Test again.
6. Release fat patch.

I will do this in parts, see status table below.

## <a name="Old_Status"> Old Status </a>

<table border="1" cellpadding="1" cellspacing="0">
  <tr>
    <th bgcolor="#99CCCC"><strong>Part</strong></th>
    <th bgcolor="#99CCCC"><strong>Brief description</strong></th>
    <th bgcolor="#99CCCC"><strong>DIFF</strong></th>
    <th bgcolor="#99CCCC"><strong>Date</strong></th>
  </tr>
  <tr>
    <td> I </td>
    <td><a href="http://vmlinux.org/joachim/hurd/oskit-2002-partI.php" target="_top">Upgrade IDE drivers</a></td>
    <td><a href="http://vmlinux.org/joachim/hurd/oskit-2002-partI.tgz" target="_top">TGZ</a></td>
    <td> May 4, 2002 </td>
  </tr>
  <tr>
    <td> II </td>
    <td> Import ATA-100 patches: PDC20267 HPT366. </td>
    <td align="center"> -- </td>
    <td align="center"> -- </td>
  </tr>
  <tr>
    <td> III </td>
    <td> Upgrade to Linux 2.2.21 of IDE drivers. </td>
    <td align="center"> -- </td>
    <td align="center"> -- </td>
  </tr>
  <tr>
    <td> IV </td>
    <td> Upgrade rest of ATA-100 drivers. </td>
    <td align="center"> -- </td>
    <td align="center"> -- </td>
  </tr>
  <tr>
    <td> V </td>
    <td> Upgrade ISA NIC's. </td>
    <td align="center"> -- </td>
    <td align="center"> -- </td>
  </tr>
  <tr>
    <td> VI </td>
    <td> Upgrade rest of drivers. </td>
    <td align="center"> -- </td>
    <td align="center"> -- </td>
  </tr>
</table>

## <a name="Accessing_GNU_CVS"> </a> Accessing GNU CVS

    export CVSROOT=":pserver:anoncvs@anoncvs.gnu.org:/cvsroot/hurd"

## <a name="OSKit_Mach_Troubles"> </a> OSKit-Mach Troubles

* Building OSKit &amp; Mach and optimizations, context SMP: <http://lists.debian.org/debian-hurd/2002/debian-hurd-200203/msg00080.html>
* OSKit \_\_libc\_multiple\_libcs: <ftp://flux.cs.utah.edu/flux/oskit/mail/html/oskit-users/msg01052.html>
* Enabling OSKit drivers in Mach: <http://lists.debian.org/debian-hurd/2000/debian-hurd-200003/msg00265.html>
* IDE Bios probe trap on page zero problem: <http://mail.gnu.org/pipermail/bug-hurd/2001-July/004714.html>

* Neal announces oskit-mach binary: <http://lists.debian.org/debian-hurd/2000/debian-hurd-200009/msg00323.html>
* Neal crashes with OSKit 200009 on 0x104: <http://mail.gnu.org/pipermail/bug-hurd/2000-September/000055.html>
* Igor crashes on 0x104: <http://mail.gnu.org/pipermail/bug-hurd/2001-July/004714.html>

# <a name="Future_Work"> Future Work </a>

1. Enable [[FreeBSD]] drivers from OSKit in Mach. Checked that, does not work easily since the [[FreeBSD]] drivers are initialized from the [[FreeBSD]] PCI probe. OSKit-Mach uses the Linux PCI stuff and hence it would not be done easily.
2. Use the sound drivers in the OSKit -- port a useful sound daemon.
3. I want to get SMP working with OSKit-mach.

# <a name="Links"> Links </a>

Misc. links for my pleasure only.

* [Savannah - GNU CVS](http://savannah.gnu.org)
* [Gnu/Hurd](http://hurd.gnu.org)
* [OSKit-mach docs](http://www.etherhogz.org/doc/)
* "Building OSKit-Mach" the document: <http://mail.gnu.org/pipermail/bug-hurd/2001-September/005266.html>
* [Walken Hurd hackers guide](http://www.via.ecp.fr/~walken/hurd/) [(mirror)](http://vmlinux.org/crash/mirror/www.via.ecp.fr/)
* [CMU CS Mach pages](http://www.cs.cmu.edu/afs/cs.cmu.edu/project/mach/public/www/mach.html)
* [Univ. of Utah's Mach 4](http://www.cs.utah.edu/projects/flux/mach4/html/)
* OSKit [HTML](http://www.cs.utah.edu/flux/oskit/html/oskit-www.html) or [PS.GZ](http://vmlinux.org/joachim/hurd/oskit.ps.gz) manual.

Mach docs

* wget -m -np <ftp://ftp.inf.tu-dresden.de/pub/os/mach/> (nearly 250M)
* wget -m -np <ftp://ftp.lip6.fr/pub/mach/> (nearly 2G (e.g. includes oskit))
* wget -m -np <ftp://ftp.opengroup.org/pub/ri/os/> (About 20-30M)
* <ftp://ftp.ftp.lip6.fr/pub/mach/cmu/doc/osf/>

----

Click here to [edit](http://hurd.gnufans.orghttp://LOCATIONHurd/JoachimNilssonHurdPage) this page. <br /> -- [[Main/JoachimNilsson]] - 28 Okt 2002
