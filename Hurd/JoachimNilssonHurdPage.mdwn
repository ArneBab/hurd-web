<table border="0" width="100%">
  <tr valign="top">
    <td><nop><h1><a name="Table_of_Contents"> Table of Contents </a></h1> %TOC% </nop></td>
    <td> Click <a href="http://hurd.gnufans.orghttp://LOCATIONHurd/JoachimNilssonHurdPage" target="_top">here to edit</a> this page. </td>
  </tr>
</table>

# <a name="Introduction"> Introduction </a>

This page serves as a simple project page for me. I use it to list my personal Hurd related projects. If you wish to comment on my lack of progress, do so in [[TWiki/GoodStyle]], preferably at the bottom of this page.

# <a name="Current_Project"> Current Project </a>

Currently I'm working on importing new Linux drivers to the OSKit. "New" means simply to add more of the drivers existing in Linux 2.2.X that don't exist in the OSKit today.

## <a name="Add_new_Linux_drivers_to_the_OSK"> </a> Add "new" Linux drivers to the OSKit

To test any of the work in this project you first need to upgrade the OSKit to Linux 2.2.22 using my patches below.

1. Add support for my [[RealTek]] 8139B - testing has begun using the 8139too.c and rtl8139.c drivers from Linux 2.2.22 - as well as the [latest work by Donald Becker](http://www.scyld.com/network/rtl8139.html).

<table border="1" cellpadding="1" cellspacing="0">
  <tr>
    <th bgcolor="#99CCCC"><strong>Part</strong></th>
    <th bgcolor="#99CCCC"><strong>Brief description</strong></th>
    <th bgcolor="#99CCCC"><strong>DIFF</strong></th>
    <th bgcolor="#99CCCC"><strong>Date</strong></th>
  </tr>
  <tr>
    <td> 2.2.22-NET </td>
    <td> Adds more Linux NIC drivers </td>
    <td>   </td>
    <td>   </td>
  </tr>
</table>

# <a name="Previous_Project_s_"> Previous Project(s) </a>

## <a name="Upgrade_OSKit_Linux_drivers"> </a> Upgrade OSKit Linux drivers

The OSKit itslef is currently at Linux version 2.2.12 for most of its drivers. The objective of this project was to upgrade to 2.2.22.

The first patch brings the Linux drivers up to version 2.2.13. Please note that:

* The patches are cummulative, i.e., you only need one.
* The patches only upgrade existing OSKit drivers, they don't add support for new ones. Unlike the corresponding Linux patches.

<table border="1" cellpadding="1" cellspacing="0">
  <tr>
    <th bgcolor="#99CCCC"><strong>Part</strong></th>
    <th bgcolor="#99CCCC"><strong>Brief description</strong></th>
    <th bgcolor="#99CCCC"><strong>DIFF</strong></th>
    <th bgcolor="#99CCCC"><strong>Date</strong></th>
    <th bgcolor="#99CCCC"><strong>Verified?</strong></th>
  </tr>
  <tr>
    <td> 2.2.13 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.13 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.13.diff.gz" target="_top">patch-oskit-linux-2.2.13.diff.gz</a></td>
    <td> Oct 27, 2002 </td>
    <td> Yes (1) </td>
  </tr>
  <tr>
    <td> 2.2.14 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.14 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.14.diff.gz" target="_top">patch-oskit-linux-2.2.14.diff.gz</a></td>
    <td> Oct 30, 2002 </td>
    <td> Yes (1) </td>
  </tr>
  <tr>
    <td> 2.2.15 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.15 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.15.diff.gz" target="_top">patch-oskit-linux-2.2.15.diff.gz</a></td>
    <td> Oct 31, 2002 </td>
    <td> Yes (1) </td>
  </tr>
  <tr>
    <td> 2.2.16 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.16 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.16.diff.gz" target="_top">patch-oskit-linux-2.2.16.diff.gz</a></td>
    <td> Oct 31, 2002 </td>
    <td> Yes (1) </td>
  </tr>
  <tr>
    <td> 2.2.17 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.17 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.17.diff.gz" target="_top">patch-oskit-linux-2.2.17.diff.gz</a></td>
    <td> Nov 1, 2002 </td>
    <td> Yes (1) </td>
  </tr>
  <tr>
    <td> 2.2.18 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.18 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.18.diff.gz" target="_top">patch-oskit-linux-2.2.18.diff.gz</a></td>
    <td> Nov 1, 2002 </td>
    <td> Yes (1) </td>
  </tr>
  <tr>
    <td> 2.2.19 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.19 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.19.diff.gz" target="_top">patch-oskit-linux-2.2.19.diff.gz</a></td>
    <td> Nov 4, 2002 </td>
    <td> Yes (1) </td>
  </tr>
  <tr>
    <td> 2.2.20 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.20 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.20.diff.gz" target="_top">patch-oskit-linux-2.2.20.diff.gz</a></td>
    <td> Nov 5, 2002 </td>
    <td> Yes (1) </td>
  </tr>
  <tr>
    <td> 2.2.21 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.21 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.21.diff.gz" target="_top">patch-oskit-linux-2.2.21.diff.gz</a></td>
    <td> Nov 5, 2002 </td>
    <td> Yes (1) </td>
  </tr>
  <tr>
    <td> 2.2.22 </td>
    <td> Upgrade from Linux 2.2.12 to 2.2.22 </td>
    <td><a href="http://gnufans.org/joachim/hurd/patch-oskit-linux-2.2.22.diff.gz" target="_top">patch-oskit-linux-2.2.22.diff.gz</a></td>
    <td> Nov 5, 2002 </td>
    <td> Yes (1) </td>
  </tr>
</table>

**_Notes:_**

1. Yes, the patch has been tested using the latest CVS version (HEAD) of GNUmach. Verified means that I have verified that GNUmach can be built, booted successfully (using IDE and various NICs).

To build [[Mach/OskitMach]] you also need some [[Mach/UsefulOskitPatches]]. As well as two unofficial GNUmach2 patches. See Daniel Wagners post to bug-hurd, <http://mail.gnu.org/pipermail/bug-hurd/2002-December/011134.html>

**_Tested NICs:_**

Testbed: Intel AL440LX mobo 128MiB RAM (only 64MiB detected by Grub 0.93).

* Digital Equipment Corp. Etherworks Turbo PCI Controller DE435 - digital Tulip 21040-AA
* 3Com 3C905B-TXNM Fast Etherlink XL PCI - Parallel Tasking II 3Com 40-0483-004

**_Untested NICs:_**

These I have and will test eventually

* Western Digital 10 Mbps ISA - WD8003EBT
* SMC Ultra 16 ISA
* NE1000/2000

# <a name="Future_Work"> Future Work </a>

1. Support for Promise ATA-100 controllers in the OSKit. Using patches by Linux ATA guy, Andr� Hedrick. [ATA-100 patches](http://www.kernel.org/pub/linux/kernel/people/hedrick/ide-2.2.20/).
2. _Try to enable GNUmach to use the [[FreeBSD]] drivers in the OSKit_<br /> I have looked into this a bit. The [[FreeBSD]] PCI drivers are initialized from the [[FreeBSD]] PCI probe. GNUmach uses the Linux PCI stuff which means the [[FreeBSD]] probe will not run - this is probably solved in some ingenious way int the OSKit, but I've yet to find out about that.
3. Port a simple DHCP client (udhcp perhaps?).
4. Enable the sound drivers in the OSKit -- port a useful sound daemon.
5. SMP support for GNUmach2 - Current OSKit is broken.

----

Feel free to contact me if you have any comments or suggestions. -- [[Main/JoachimNilsson]] - Nov 13th 2002

# <a name="Comments"> Comments </a>

Go Joachim! Great work!

-- [[Main/GrantBow]] - 11 Nov 2002
