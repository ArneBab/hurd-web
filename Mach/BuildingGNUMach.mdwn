# <a name="Building_GNUMach_GNU_Mach_from_S"> </a> Building [[GNUMach]] from Source

## <a name="Getting_the_Source_Code"> Getting the Source Code </a>

You can chose between getting the [sources from the developers's RCS](http://www.gnu.org/software/hurd/gnumach-download.html#cvs):

    $ cvs -z3 -d:pserver:anonymous@cvs.savannah.gnu.org:/sources/hurd co -r gnumach-1-branch gnumach

(Most probably you want to get hold of the _GNU Mach 1 branch_ and not the trunk, which is also what we've done above.)

... or (if you are working on a Debian system) the ones that are used for the [current Debian gnumach package](http://packages.debian.net/source/unstable/gnumach):

    $ apt-get source gnumach

Please see [[Distrib/DebianFAQ]] before using _apt-get source_.

The unpacked source tree is around [TODO]MiB, and the build tree (with all drivers enabled) is around [TODO]MiB.

## <a name="Building_GNUMach_GNU_Mach_"> </a> Building [[GNUMach]]

### <a name="_on_Debian"> ... on Debian </a>

If you have already installed Debian GNU/Hurd and you want to compile the [[GNUMach]] kernel from the Debian package's source instead of installing the binary, follow these instructions.

You can also build [[GNUMach]] from Debian GNU/Linux in the same way, extract the kernel from the resulting _.deb_ file and then copy the compressed gnumach kernel onto your GNU/Hurd partition to _/boot/gnumach.gz_.

Install additional needed packages:

    # apt-get install build-essential fakeroot
    # apt-get build-dep gnumach

Building [[GNUMach]]:

Change into the directory with the downloaded gnumach source, e.g.

    $ cd gnumach-20050801

Start the build process with

    $ dpkg-buildpackage -us -uc -b -rfakeroot

[[GNUMach]] is now building. To use the new kernel, you must install the resulting _.deb_ package which is located one directory above the build directory and has a similar name as the build directory, e.g.

    # dpkg -i ../gnumach_20050801-4_hurd-i386.deb

You can now reboot your computer and enjoy the new kernel.

-- [[Main/ThomasSchlesinger]] - 30 Jan 2006
