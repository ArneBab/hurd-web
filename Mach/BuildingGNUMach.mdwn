# <a name="Building_GNUMach_GNU_Mach_from_S"> </a> Building [[GNUMach]] from Source

## <a name="_on_Debian_Using_the_Debian_Repo"> ... on Debian / Using the Debian Repository </a>

If you have already installed Debian GNU/Hurd and you want to compile the [[GNUMach]] kernel from the Debian package's source instead of installing the binary, follow these instructions.

You can also build [[GNUMach]] from Debian GNU/Linux in the same way, extract the kernel from the resulting _.deb_ file and then copy the compressed gnumach kernel onto your GNU/Hurd partition to _/boot/gnumach.gz_.

First, make sure that this line is included in your _/etc/apt/sources.list_:

    deb-src http://ftp.debian.org/debian unstable main

Install additional needed packages:

    # apt-get update
    # apt-get build-dep gnumach
    # apt-get install fakeroot

Download the source from the Debian repository (the source usually differs to the source in the official GNU repository, additional patches are applied for example):

    $ apt-get source gnumach

Building [[GNUMach]]:

Change into the directory with the downloaded gnumach source, e.g.

    $ cd gnumach-20050801

Start the build process with

    $ dpkg-buildpackage -us -uc -b -rfakeroot

[[GNUMach]] is now building. To use the new kernel, you must install the resulting _.deb_ package which is located one directory above the build directory and has a similar name as the build directory, e.g.

    # dpkg -i ../gnumach_20050801-4_hurd-i386.deb

You can now reboot your computer and enjoy the new kernel.

-- [[Main/ThomasSchlesinger]] - 30 Jan 2006
