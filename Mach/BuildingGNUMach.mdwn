-- [[Main/ThomasSchlesinger]] - 30 Jan 2006

# <a name="Building_GNUMach_from_source_fro"> </a> Building GNUMach from source from the Debian repository

If you have already installed Debian/Hurd and you want to compile the GNUMach kernel from source (from the Debian repository) instead of installing the binary, follow these instructions.

You can also build GNUMach from Debian GNU/Linux in the same way, extract the kernel from the resulting .deb file and then copy the compressed gnumach kernel onto your mounted GNU/Hurd partition to /boot/gnumach.gz.

First, make sure that this line is included in your /etc/apt/sources.list:

    deb-src http://ftp.debian.org/debian unstable main

Install additional needed packages

    # apt-get update
    # apt-get build-dep gnumach
    # apt-get install fakeroot

Download the source from the Debian repository (the source usually differs to the source in the official GNU repository)

    $ apt-get source gnumach

Building GNUmach

Change into the directory with the downloaded gnumach source, e. g.

    $ cd gnumach-20050801

Start the build process with

    $ dpkg-buildpackage -us -uc -b -rfakeroot

GNUMach is now building. To use the new kernel, you must install the resulting .deb package which is located one directory above the build directory and has a similar name as the build directory, e.g.:

    # dpkg -i ../gnumach_20050801-4_hurd-i386.deb

You can now reboot your computer and enjoy the new kernel.
